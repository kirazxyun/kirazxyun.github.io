(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{53:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"git-commit-message规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-message规范","aria-hidden":"true"}},[t._v("#")]),t._v(" git commit message规范")]),e("h2",{attrs:{id:"一、规范说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、规范说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、规范说明")]),e("h3",{attrs:{id:"_1、格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、格式","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、格式")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<type>(<scope>?): <subject>\n空行\n<body>?\n空行\n<footer>?\n")])]),e("p",[e("a",{attrs:{href:"https://conventionalcommits.org/lang/zh-Hans",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular规范说明")])]),e("h3",{attrs:{id:"_2、字段说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、字段说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、字段说明")]),e("h4",{attrs:{id:"type-必填"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type-必填","aria-hidden":"true"}},[t._v("#")]),t._v(" type(必填)")]),e("p",[t._v("用于说明commit类别")]),e("ul",[e("li",[e("strong",[t._v("feat")]),t._v(" 新功能（feature）")]),e("li",[e("strong",[t._v("fix")]),t._v(" 修复bug")]),e("li",[e("strong",[t._v("docs")]),t._v("  文档相关（README、CHANGLELOG）")]),e("li",[e("strong",[t._v("style")]),t._v("  代码格式相关（不影响代码逻辑，如缩进、空格、换行等）")]),e("li",[e("strong",[t._v("refactor")]),t._v(" 代码重构（没有添加新功能或者修复bug）")]),e("li",[e("strong",[t._v("pref")]),t._v(" 优化相关（提升性能）")]),e("li",[e("strong",[t._v("test")]),t._v(" 测试用例")]),e("li",[e("strong",[t._v("chore")]),t._v(" 改变构建流程、或者增加依赖库、工具等")]),e("li",[e("strong",[t._v("revert")]),t._v(" 回滚到上一个版本")])]),e("blockquote",[e("p",[t._v("如果type是"),e("em",[t._v("feat")]),t._v("、"),e("em",[t._v("fix")]),t._v("，则commit将出现在chonglog中")])]),e("h4",{attrs:{id:"scope-选填"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scope-选填","aria-hidden":"true"}},[t._v("#")]),t._v(" scope(选填)")]),e("p",[t._v("标识影响范围")]),e("ul",[e("li",[e("strong",[t._v("global")]),t._v(" 全局")]),e("li",[e("strong",[t._v("module")]),t._v(" 模块")]),e("li",[e("strong",[t._v("component")]),t._v(" 组件")]),e("li",[e("strong",[t._v("api")]),t._v(" 接口")]),e("li",[t._v("...")])]),e("h4",{attrs:{id:"subject-必填"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#subject-必填","aria-hidden":"true"}},[t._v("#")]),t._v(" subject(必填)")]),e("p",[t._v("对提交做一个简单的描述")]),e("ul",[e("li",[t._v("以动词开头，使用第一人称现在时，比如change，而不是changed或changes")]),e("li",[t._v("第一个字母小写")]),e("li",[t._v("长度不大于72（如果需要大量的信息描述，请采用body部分）")]),e("li",[t._v("结尾不加句号")])]),e("h4",{attrs:{id:"body-选填"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#body-选填","aria-hidden":"true"}},[t._v("#")]),t._v(" body(选填)")]),e("p",[t._v("对提交的详细描述，可以分成多行")]),e("ul",[e("li",[t._v("使用第一人称现在时，比如使用 change 而不是 changed 或者 changes")]),e("li",[t._v("说明代码变更的原因，以及和以前代码的对比")])]),e("h4",{attrs:{id:"footer-选填"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#footer-选填","aria-hidden":"true"}},[t._v("#")]),t._v(" footer(选填)")]),e("ul",[e("li",[e("strong",[t._v("BREAKING CHANGE")]),t._v(" 不兼容变动, 如果当前代码与上一个版本不兼容，则 Footer 部分以BREAKING CHANGE开头，后面是对变动的描述、以及变动理由和迁移方法")]),e("li",[e("strong",[t._v("关闭Issue")]),t._v(" Close开头")])]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Close #123, #245\n")])]),e("blockquote",[e("p",[t._v("BREAKING CHANGE将会出现在changelog中")])]),e("h3",{attrs:{id:"_3、例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、例子","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、例子")]),e("h4",{attrs:{id:"最简单-type-subject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最简单-type-subject","aria-hidden":"true"}},[t._v("#")]),t._v(" 最简单 "),e("em",[t._v("type: subject")])]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("feat: add scheme rule page\nchore: add lodash\n")])]),e("h4",{attrs:{id:"带scope"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#带scope","aria-hidden":"true"}},[t._v("#")]),t._v(" 带scope")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("feat(api): add api of task\n")])]),e("h4",{attrs:{id:"带body"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#带body","aria-hidden":"true"}},[t._v("#")]),t._v(" 带body")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("fix: change the params of getTags\n\n后端接口需要添加组件名称参数\n")])]),e("h4",{attrs:{id:"带footer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#带footer","aria-hidden":"true"}},[t._v("#")]),t._v(" 带footer")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("refactor: change src structure\n\nBREAKING CHANGE: 对src目录结构进行调整，新结构与原来不兼容\n")])]),e("h4",{attrs:{id:"完整"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#完整","aria-hidden":"true"}},[t._v("#")]),t._v(" 完整")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("refactor(src): change src structure\n\n为了实现十万+代码组织\n\nBREAKING CHANGE: 对src目录结构进行调整，新结构与原来不兼容\n")])]),e("h3",{attrs:{id:"_4、关于回滚"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、关于回滚","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、关于回滚")]),e("p",[t._v("如果当前 commit 用于撤销以前的 commit，则必须以revert:开头，后面跟着被撤销 Commit 的 Header")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("revert: feat(pencil): add 'graphiteWidth' option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02\n")])]),e("p",[t._v("body部分的格式是固定的，必须写成")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("This reverts commit &lt;hash>\n")])]),e("p",[t._v("其中的hash是被撤销 commit 的 SHA 标识符。")]),e("p",[t._v("如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的Reverts小标题下面。")]),e("h2",{attrs:{id:"二、安装和配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、安装和配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、安装和配置")]),e("h3",{attrs:{id:"_1、安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、安装")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install --save-dev @commitlint/cli\nnpm install --save-dev @commitlint/config-conventional\nnpm install --save-dev husky\nnpm install --save-dev conventional-changelog-cli\n")])]),e("p",[t._v("其中")]),e("ol",[e("li",[t._v("规范检查工具："),e("a",{attrs:{href:"http://marionebl.github.io/commitlint/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint")])]),e("li",[t._v("规范规则风格："),e("a",{attrs:{href:"https://github.com/marionebl/commitlint/blob/master/%40commitlint/config-conventional/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("config-conventional")])]),e("li",[t._v("git钩子："),e("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky")])]),e("li",[t._v("生成changlog："),e("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("conventional-changelog-cli")])])]),e("h3",{attrs:{id:"_2、配置commintlint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置commintlint","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、配置commintlint")]),e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("// .commitlintrc.js")]),t._v("\nmodule"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  rules"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token comment"}},[t._v("// 配置额外的rule")]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("p",[e("a",{attrs:{href:"http://marionebl.github.io/commitlint/#/reference-rules",target:"_blank",rel:"noopener noreferrer"}},[t._v("全部rule")])]),e("p",[e("a",{attrs:{href:"https://github.com/marionebl/commitlint/blob/master/%40commitlint/config-conventional/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("conventional的rule")])]),e("h3",{attrs:{id:"_3、配置git钩子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置git钩子","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、配置git钩子")]),e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("// package.json\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token property"}},[t._v('"commitmsg"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"commitlint -E GIT_PARAMS"')]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("h3",{attrs:{id:"_4、生成changlog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、生成changlog","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、生成changlog")]),e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("// package.json\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token property"}},[t._v('"changelog"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"conventional-changelog -p angular -i CHANGELOG.md -s -r 0"')]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);a.default=r.exports}}]);